<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aperture Tab - Settings</title>
  <link rel="stylesheet" href="settings.css">
</head>
<body>
  <div class="settings-container">
    <header class="settings-header">
      <h1>⚙️ Aperture Tab Settings</h1>
      <p>Customize your new tab experience</p>
    </header>

    <div class="settings-content">
      <!-- API Key Section -->
      <section class="settings-section">
        <h2>🔑 API Configuration</h2>
        <div class="setting-item">
          <label for="apiKey">Unsplash API Key (Access Key)</label>
          <div class="api-key-input-wrapper">
            <input type="password" id="apiKey" placeholder="Enter your Unsplash API Access Key">
            <button type="button" id="toggleApiKey" class="toggle-api-key" title="Show/Hide API Key">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path id="eyeIcon" d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle id="eyeCircle" cx="12" cy="12" r="3"></circle>
                <line id="eyeSlash" x1="3" y1="3" x2="21" y2="21" stroke-width="2" style="display: none;"></line>
              </svg>
            </button>
          </div>
          <small>
            Get your free API key at 
            <a href="https://unsplash.com/oauth/applications" target="_blank" rel="noopener">Unsplash Developers</a>
            <br>
            🔒 <strong>Your API key is stored locally on your device only</strong> - never sent to any external server except Unsplash API
          </small>
        </div>
      </section>

      <!-- Display Settings -->
      <section class="settings-section">
        <h2>🖼️ Display Settings</h2>
        
        <div class="setting-item">
          <label for="imageQuality">Image Quality</label>
          <select id="imageQuality">
            <option value="regular">Regular (1080p)</option>
            <option value="full">Full (Original size)</option>
            <option value="raw">Raw (Highest quality)</option>
          </select>
          <small>Higher quality uses more bandwidth</small>
        </div>

        <div class="setting-item">
          <label>
            <input type="checkbox" id="showInfo">
            Show Image Information
          </label>
          <small>Display photographer name and image details</small>
        </div>
      </section>

      <!-- Auto Refresh Settings -->
      <section class="settings-section">
        <h2>🔄 Auto Refresh</h2>
        
        <div class="setting-item">
          <label for="autoRefresh">Refresh Interval</label>
          <select id="autoRefresh">
            <option value="manual">Manual (Only on refresh button)</option>
            <option value="30min">Every 30 minutes</option>
            <option value="1hour">Every hour</option>
            <option value="daily">Daily</option>
          </select>
          <small>How often to automatically change the image</small>
        </div>
      </section>

      <!-- Content Filters -->
      <section class="settings-section">
        <h2>🎨 Content Filters</h2>
        
        <div class="setting-item">
          <label for="searchQuery">Search Query</label>
          <input type="text" id="searchQuery" placeholder="e.g., nature, city, minimal">
          <small>Leave empty for completely random images</small>
        </div>

        <div class="setting-item">
          <label>Popular Collections</label>
          <div class="collections-grid">
            <label class="collection-item">
              <input type="checkbox" class="collection-checkbox" value="3330445">
              <span>🏔️ Nature</span>
            </label>
            <label class="collection-item">
              <input type="checkbox" class="collection-checkbox" value="3356584">
              <span>🏙️ Architecture</span>
            </label>
            <label class="collection-item">
              <input type="checkbox" class="collection-checkbox" value="1538150">
              <span>🎨 Minimal</span>
            </label>
            <label class="collection-item">
              <input type="checkbox" class="collection-checkbox" value="1065976">
              <span>🌊 Ocean</span>
            </label>
            <label class="collection-item">
              <input type="checkbox" class="collection-checkbox" value="3348849">
              <span>🌲 Forest</span>
            </label>
            <label class="collection-item">
              <input type="checkbox" class="collection-checkbox" value="1639844">
              <span>🌆 Urban</span>
            </label>
            <label class="collection-item">
              <input type="checkbox" class="collection-checkbox" value="2203203">
              <span>🌌 Space</span>
            </label>
            <label class="collection-item">
              <input type="checkbox" class="collection-checkbox" value="827743">
              <span>🐾 Animals</span>
            </label>
          </div>
          <small>Select one or more collections to filter images</small>
        </div>
      </section>

      <!-- Data Management -->
      <section class="settings-section">
        <h2>💾 Data Management</h2>
        
        <div class="stats-grid">
          <div class="stat-item">
            <div class="stat-value" id="historyCount">0</div>
            <div class="stat-label">Images in History</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="favoritesCount">0</div>
            <div class="stat-label">Favorite Images</div>
          </div>
        </div>

        <div class="button-group">
          <button id="clearHistoryBtn" class="btn btn-secondary">Clear History</button>
          <button id="clearFavoritesBtn" class="btn btn-secondary">Clear Favorites</button>
          <button id="exportDataBtn" class="btn btn-secondary">Export Data</button>
        </div>
      </section>

      <!-- Keyboard Shortcuts -->
      <section class="settings-section">
        <h2>⌨️ Keyboard Shortcuts</h2>
        <div class="shortcuts-list">
          <div class="shortcut-item">
            <kbd>Space</kbd>
            <span>Refresh image</span>
          </div>
          <div class="shortcut-item">
            <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>H</kbd>
            <span>Toggle history panel</span>
          </div>
          <div class="shortcut-item">
            <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>F</kbd>
            <span>Toggle favorite</span>
          </div>
          <div class="shortcut-item">
            <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>R</kbd>
            <span>Refresh image (alternative)</span>
          </div>
          <div class="shortcut-item">
            <kbd>Esc</kbd>
            <span>Close history panel</span>
          </div>
        </div>
      </section>

      <!-- About -->
      <section class="settings-section">
        <h2>ℹ️ About</h2>
        <p><strong>Aperture Tab v1.0.0</strong></p>
        <p>Beautiful random images from Unsplash for your new tab page.</p>
        <p>
          <a href="https://github.com/aben20807/aperture-tab" target="_blank" rel="noopener" style="display: inline-flex; align-items: center; gap: 0.5rem; text-decoration: none; color: #1a1a2e; font-weight: 500;">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
            </svg>
            GitHub Repository
          </a>
        </p>
        <div class="links">
          <a href="https://unsplash.com" target="_blank" rel="noopener">Unsplash</a>
          <a href="https://unsplash.com/license" target="_blank" rel="noopener">License</a>
        </div>
      </section>
    </div>

    <footer class="settings-footer">
      <button id="saveBtn" class="btn btn-primary">💾 Save Settings</button>
      <div id="saveStatus" class="save-status"></div>
    </footer>
  </div>

  <script src="settings.js"></script>
</body>
</html>
